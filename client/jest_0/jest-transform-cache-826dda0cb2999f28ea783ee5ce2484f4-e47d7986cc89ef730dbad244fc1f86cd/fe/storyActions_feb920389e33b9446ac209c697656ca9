e2db3abb84fe1c64eeed8eb55094b259
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.deleteStory = exports.fetchStories = void 0;

var _types = require("./types");

var _config = require("../config");

const headers = {
  "Content-Type": "application/json",
  Accept: "application/json"
};

const fetchStories = () => dispatch => {
  fetch(`${_config.API_ADMIN_URL}/stories`, headers).then(res => res.json()).then(data => dispatch({
    type: _types.FETCH_STORIES,
    payload: data
  })).catch(err => console.error(err));
};

exports.fetchStories = fetchStories;

const deleteStory = storyId => dispatch => {
  fetch(`${_config.API_ADMIN_URL}/stories/` + storyId, {
    headers,
    method: "DELETE"
  }).then(res => res.json()).then(data => dispatch({
    type: _types.DELETE_STORY,
    payload: data
  }));
};

exports.deleteStory = deleteStory;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0b3J5QWN0aW9ucy5qcyJdLCJuYW1lcyI6WyJoZWFkZXJzIiwiQWNjZXB0IiwiZmV0Y2hTdG9yaWVzIiwiZGlzcGF0Y2giLCJmZXRjaCIsIkFQSV9BRE1JTl9VUkwiLCJ0aGVuIiwicmVzIiwianNvbiIsImRhdGEiLCJ0eXBlIiwiRkVUQ0hfU1RPUklFUyIsInBheWxvYWQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImRlbGV0ZVN0b3J5Iiwic3RvcnlJZCIsIm1ldGhvZCIsIkRFTEVURV9TVE9SWSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUVBLE1BQU1BLE9BQU8sR0FBRztBQUNkLGtCQUFnQixrQkFERjtBQUVkQyxFQUFBQSxNQUFNLEVBQUU7QUFGTSxDQUFoQjs7QUFLTyxNQUFNQyxZQUFZLEdBQUcsTUFBTUMsUUFBUSxJQUFJO0FBQzVDQyxFQUFBQSxLQUFLLENBQUUsR0FBRUMscUJBQWMsVUFBbEIsRUFBNkJMLE9BQTdCLENBQUwsQ0FDR00sSUFESCxDQUNRQyxHQUFHLElBQUlBLEdBQUcsQ0FBQ0MsSUFBSixFQURmLEVBRUdGLElBRkgsQ0FFUUcsSUFBSSxJQUNSTixRQUFRLENBQUM7QUFDUE8sSUFBQUEsSUFBSSxFQUFFQyxvQkFEQztBQUVQQyxJQUFBQSxPQUFPLEVBQUVIO0FBRkYsR0FBRCxDQUhaLEVBUUdJLEtBUkgsQ0FRU0MsR0FBRyxJQUFJQyxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsR0FBZCxDQVJoQjtBQVNELENBVk07Ozs7QUFZQSxNQUFNRyxXQUFXLEdBQUdDLE9BQU8sSUFBSWYsUUFBUSxJQUFJO0FBQ2hEQyxFQUFBQSxLQUFLLENBQUUsR0FBRUMscUJBQWMsV0FBakIsR0FBOEJhLE9BQS9CLEVBQXdDO0FBQzNDbEIsSUFBQUEsT0FEMkM7QUFFM0NtQixJQUFBQSxNQUFNLEVBQUU7QUFGbUMsR0FBeEMsQ0FBTCxDQUlHYixJQUpILENBSVFDLEdBQUcsSUFBSUEsR0FBRyxDQUFDQyxJQUFKLEVBSmYsRUFLR0YsSUFMSCxDQUtRRyxJQUFJLElBQ1JOLFFBQVEsQ0FBQztBQUNQTyxJQUFBQSxJQUFJLEVBQUVVLG1CQURDO0FBRVBSLElBQUFBLE9BQU8sRUFBRUg7QUFGRixHQUFELENBTlo7QUFXRCxDQVpNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRkVUQ0hfU1RPUklFUywgREVMRVRFX1NUT1JZIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IEFQSV9BRE1JTl9VUkwgfSBmcm9tIFwiLi4vY29uZmlnXCI7XG5cbmNvbnN0IGhlYWRlcnMgPSB7XG4gIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiXG59O1xuXG5leHBvcnQgY29uc3QgZmV0Y2hTdG9yaWVzID0gKCkgPT4gZGlzcGF0Y2ggPT4ge1xuICBmZXRjaChgJHtBUElfQURNSU5fVVJMfS9zdG9yaWVzYCwgaGVhZGVycylcbiAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAudGhlbihkYXRhID0+XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEZFVENIX1NUT1JJRVMsXG4gICAgICAgIHBheWxvYWQ6IGRhdGFcbiAgICAgIH0pXG4gICAgKVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVTdG9yeSA9IHN0b3J5SWQgPT4gZGlzcGF0Y2ggPT4ge1xuICBmZXRjaChgJHtBUElfQURNSU5fVVJMfS9zdG9yaWVzL2AgKyBzdG9yeUlkLCB7XG4gICAgaGVhZGVycyxcbiAgICBtZXRob2Q6IFwiREVMRVRFXCJcbiAgfSlcbiAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcbiAgICAudGhlbihkYXRhID0+XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IERFTEVURV9TVE9SWSxcbiAgICAgICAgcGF5bG9hZDogZGF0YVxuICAgICAgfSlcbiAgICApO1xufTtcbiJdfQ==