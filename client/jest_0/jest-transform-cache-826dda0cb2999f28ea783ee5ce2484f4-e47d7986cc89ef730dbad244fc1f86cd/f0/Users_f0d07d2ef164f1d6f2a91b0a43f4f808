24cc11102026aa0ac68f18018464f33a
"use strict";

var _interopRequireWildcard = require("/home/belzee/projects/story-share-project/story-share-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/belzee/projects/story-share-project/story-share-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _reactRedux = require("react-redux");

var _userActions = require("../../../actions/userActions");

var _List = _interopRequireDefault(require("../../../components/common/List"));

var _Button = _interopRequireDefault(require("../../../components/common/Button"));

var _Count = _interopRequireDefault(require("../../../components/common/Count"));

var _jsxFileName = "/home/belzee/projects/story-share-project/story-share-app/client/src/containers/back/users/Users.jsx";

class Users extends _react.Component {
  constructor(props) {
    super(props);
    this.state = {};
    this.countMessage = this.countMessage.bind(this);
    this.handleDelete = this.handleDelete.bind(this);
  }

  componentDidMount() {
    this.props.fetchUsers();
  }

  countMessage() {
    return this.props.users.length === 1 ? "User founded" : "Users founded";
  }

  handleDelete(item) {
    this.props.deleteUser(item._id);
  }

  render() {
    const _this$props = this.props,
          users = _this$props.users,
          keys = _this$props.keys;
    return _react.default.createElement("div", {
      className: "container",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 33
      },
      __self: this
    }, _react.default.createElement("div", {
      className: "d-flex justify-content-between mb-2",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 34
      },
      __self: this
    }, _react.default.createElement(_Button.default, {
      buttonUrl: "/admin/users/new",
      buttonClass: "btn-dark",
      buttonType: "link",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 35
      },
      __self: this
    }, "New User"), _react.default.createElement("div", {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 42
      },
      __self: this
    }, _react.default.createElement(_Count.default, {
      value: users.length,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 43
      },
      __self: this
    }, this.countMessage()))), _react.default.createElement(_List.default, {
      handleDelete: this.handleDelete,
      items: users,
      keys: keys,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 46
      },
      __self: this
    }));
  }

}

Users.propTypes = {
  fetchUsers: _propTypes.default.func.isRequired,
  deleteUser: _propTypes.default.func.isRequired
};

const mapStateToProps = state => ({
  users: state.users.items,
  keys: state.users.keys
});

var _default = (0, _reactRedux.connect)(mapStateToProps, {
  fetchUsers: _userActions.fetchUsers,
  deleteUser: _userActions.deleteUser
})(Users);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJzLmpzeCJdLCJuYW1lcyI6WyJVc2VycyIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdGF0ZSIsImNvdW50TWVzc2FnZSIsImJpbmQiLCJoYW5kbGVEZWxldGUiLCJjb21wb25lbnREaWRNb3VudCIsImZldGNoVXNlcnMiLCJ1c2VycyIsImxlbmd0aCIsIml0ZW0iLCJkZWxldGVVc2VyIiwiX2lkIiwicmVuZGVyIiwia2V5cyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwibWFwU3RhdGVUb1Byb3BzIiwiaXRlbXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxLQUFOLFNBQW9CQyxnQkFBcEIsQ0FBOEI7QUFDNUJDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNBLFNBQUtDLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQkMsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDQSxTQUFLQyxZQUFMLEdBQW9CLEtBQUtBLFlBQUwsQ0FBa0JELElBQWxCLENBQXVCLElBQXZCLENBQXBCO0FBQ0Q7O0FBRURFLEVBQUFBLGlCQUFpQixHQUFHO0FBQ2xCLFNBQUtMLEtBQUwsQ0FBV00sVUFBWDtBQUNEOztBQUVESixFQUFBQSxZQUFZLEdBQUc7QUFDYixXQUFPLEtBQUtGLEtBQUwsQ0FBV08sS0FBWCxDQUFpQkMsTUFBakIsS0FBNEIsQ0FBNUIsR0FBZ0MsY0FBaEMsR0FBaUQsZUFBeEQ7QUFDRDs7QUFFREosRUFBQUEsWUFBWSxDQUFDSyxJQUFELEVBQU87QUFDakIsU0FBS1QsS0FBTCxDQUFXVSxVQUFYLENBQXNCRCxJQUFJLENBQUNFLEdBQTNCO0FBQ0Q7O0FBRURDLEVBQUFBLE1BQU0sR0FBRztBQUFBLHdCQUNpQixLQUFLWixLQUR0QjtBQUFBLFVBQ0NPLEtBREQsZUFDQ0EsS0FERDtBQUFBLFVBQ1FNLElBRFIsZUFDUUEsSUFEUjtBQUVQLFdBQ0U7QUFBSyxNQUFBLFNBQVMsRUFBQyxXQUFmO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BQ0U7QUFBSyxNQUFBLFNBQVMsRUFBQyxxQ0FBZjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUNFLDZCQUFDLGVBQUQ7QUFDRSxNQUFBLFNBQVMsRUFBQyxrQkFEWjtBQUVFLE1BQUEsV0FBVyxFQUFDLFVBRmQ7QUFHRSxNQUFBLFVBQVUsRUFBQyxNQUhiO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGtCQURGLEVBUUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsT0FDRSw2QkFBQyxjQUFEO0FBQU8sTUFBQSxLQUFLLEVBQUVOLEtBQUssQ0FBQ0MsTUFBcEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsT0FBNkIsS0FBS04sWUFBTCxFQUE3QixDQURGLENBUkYsQ0FERixFQWFFLDZCQUFDLGFBQUQ7QUFBTSxNQUFBLFlBQVksRUFBRSxLQUFLRSxZQUF6QjtBQUF1QyxNQUFBLEtBQUssRUFBRUcsS0FBOUM7QUFBcUQsTUFBQSxJQUFJLEVBQUVNLElBQTNEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BYkYsQ0FERjtBQWlCRDs7QUF2QzJCOztBQTBDOUJoQixLQUFLLENBQUNpQixTQUFOLEdBQWtCO0FBQ2hCUixFQUFBQSxVQUFVLEVBQUVTLG1CQUFVQyxJQUFWLENBQWVDLFVBRFg7QUFFaEJQLEVBQUFBLFVBQVUsRUFBRUssbUJBQVVDLElBQVYsQ0FBZUM7QUFGWCxDQUFsQjs7QUFLQSxNQUFNQyxlQUFlLEdBQUdqQixLQUFLLEtBQUs7QUFDaENNLEVBQUFBLEtBQUssRUFBRU4sS0FBSyxDQUFDTSxLQUFOLENBQVlZLEtBRGE7QUFFaENOLEVBQUFBLElBQUksRUFBRVosS0FBSyxDQUFDTSxLQUFOLENBQVlNO0FBRmMsQ0FBTCxDQUE3Qjs7ZUFLZSx5QkFDYkssZUFEYSxFQUViO0FBQUVaLEVBQUFBLFVBQVUsRUFBVkEsdUJBQUY7QUFBY0ksRUFBQUEsVUFBVSxFQUFWQTtBQUFkLENBRmEsRUFHYmIsS0FIYSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCJyZWFjdC1yZWR1eFwiO1xuaW1wb3J0IHsgZmV0Y2hVc2VycywgZGVsZXRlVXNlciB9IGZyb20gXCIuLi8uLi8uLi9hY3Rpb25zL3VzZXJBY3Rpb25zXCI7XG5cbmltcG9ydCBMaXN0IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2NvbW1vbi9MaXN0XCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2NvbW1vbi9CdXR0b25cIjtcbmltcG9ydCBDb3VudCBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9jb21tb24vQ291bnRcIjtcblxuY2xhc3MgVXNlcnMgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gICAgdGhpcy5jb3VudE1lc3NhZ2UgPSB0aGlzLmNvdW50TWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlRGVsZXRlID0gdGhpcy5oYW5kbGVEZWxldGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucHJvcHMuZmV0Y2hVc2VycygpO1xuICB9XG5cbiAgY291bnRNZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnVzZXJzLmxlbmd0aCA9PT0gMSA/IFwiVXNlciBmb3VuZGVkXCIgOiBcIlVzZXJzIGZvdW5kZWRcIjtcbiAgfVxuXG4gIGhhbmRsZURlbGV0ZShpdGVtKSB7XG4gICAgdGhpcy5wcm9wcy5kZWxldGVVc2VyKGl0ZW0uX2lkKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHVzZXJzLCBrZXlzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uVXJsPVwiL2FkbWluL3VzZXJzL25ld1wiXG4gICAgICAgICAgICBidXR0b25DbGFzcz1cImJ0bi1kYXJrXCJcbiAgICAgICAgICAgIGJ1dHRvblR5cGU9XCJsaW5rXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBOZXcgVXNlclxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8Q291bnQgdmFsdWU9e3VzZXJzLmxlbmd0aH0+e3RoaXMuY291bnRNZXNzYWdlKCl9PC9Db3VudD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxMaXN0IGhhbmRsZURlbGV0ZT17dGhpcy5oYW5kbGVEZWxldGV9IGl0ZW1zPXt1c2Vyc30ga2V5cz17a2V5c30gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuVXNlcnMucHJvcFR5cGVzID0ge1xuICBmZXRjaFVzZXJzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkZWxldGVVc2VyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xuICB1c2Vyczogc3RhdGUudXNlcnMuaXRlbXMsXG4gIGtleXM6IHN0YXRlLnVzZXJzLmtleXNcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBtYXBTdGF0ZVRvUHJvcHMsXG4gIHsgZmV0Y2hVc2VycywgZGVsZXRlVXNlciB9XG4pKFVzZXJzKTtcbiJdfQ==