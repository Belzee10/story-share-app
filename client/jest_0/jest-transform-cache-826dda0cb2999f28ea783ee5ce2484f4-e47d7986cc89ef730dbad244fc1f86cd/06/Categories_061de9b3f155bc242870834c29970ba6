55b13f8c8e61dc5e044ccb7c5bd6341c
"use strict";

var _interopRequireWildcard = require("/home/belzee/projects/story-share-project/story-share-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/belzee/projects/story-share-project/story-share-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _reactRedux = require("react-redux");

var _categoryActions = require("../../../actions/categoryActions");

var _List = _interopRequireDefault(require("../../../components/common/List"));

var _Button = _interopRequireDefault(require("../../../components/common/Button"));

var _Count = _interopRequireDefault(require("../../../components/common/Count"));

var _jsxFileName = "/home/belzee/projects/story-share-project/story-share-app/client/src/containers/back/categories/Categories.jsx";

class Categories extends _react.Component {
  constructor(props) {
    super(props);
    this.state = {};
    this.countMessage = this.countMessage.bind(this);
    this.handleDelete = this.handleDelete.bind(this);
  }

  componentDidMount() {
    this.props.fetchCategories();
  }

  countMessage() {
    return this.props.categories.length === 1 ? "Category founded" : "Categories founded";
  }

  handleDelete(item) {
    this.props.deleteCategory(item._id);
  }

  render() {
    const _this$props = this.props,
          categories = _this$props.categories,
          keys = _this$props.keys;
    return _react.default.createElement("div", {
      className: "container",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 38
      },
      __self: this
    }, _react.default.createElement("div", {
      className: "d-flex justify-content-between mb-2",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 39
      },
      __self: this
    }, _react.default.createElement(_Button.default, {
      buttonUrl: "/admin/categories/new",
      buttonClass: "btn-dark",
      buttonType: "link",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 40
      },
      __self: this
    }, "New Category"), _react.default.createElement("div", {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 47
      },
      __self: this
    }, _react.default.createElement(_Count.default, {
      value: categories.length,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 48
      },
      __self: this
    }, this.countMessage()))), _react.default.createElement(_List.default, {
      handleDelete: this.handleDelete,
      items: categories,
      keys: keys,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 51
      },
      __self: this
    }));
  }

}

Categories.propTypes = {
  fetchCategories: _propTypes.default.func.isRequired,
  deleteCategory: _propTypes.default.func.isRequired
};

const mapStateToProps = state => ({
  categories: state.categories.items,
  keys: state.categories.keys
});

var _default = (0, _reactRedux.connect)(mapStateToProps, {
  fetchCategories: _categoryActions.fetchCategories,
  deleteCategory: _categoryActions.deleteCategory
})(Categories);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNhdGVnb3JpZXMuanN4Il0sIm5hbWVzIjpbIkNhdGVnb3JpZXMiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJjb3VudE1lc3NhZ2UiLCJiaW5kIiwiaGFuZGxlRGVsZXRlIiwiY29tcG9uZW50RGlkTW91bnQiLCJmZXRjaENhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwibGVuZ3RoIiwiaXRlbSIsImRlbGV0ZUNhdGVnb3J5IiwiX2lkIiwicmVuZGVyIiwia2V5cyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwibWFwU3RhdGVUb1Byb3BzIiwiaXRlbXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBS0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxVQUFOLFNBQXlCQyxnQkFBekIsQ0FBbUM7QUFDakNDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNBLFNBQUtDLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQkMsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDQSxTQUFLQyxZQUFMLEdBQW9CLEtBQUtBLFlBQUwsQ0FBa0JELElBQWxCLENBQXVCLElBQXZCLENBQXBCO0FBQ0Q7O0FBRURFLEVBQUFBLGlCQUFpQixHQUFHO0FBQ2xCLFNBQUtMLEtBQUwsQ0FBV00sZUFBWDtBQUNEOztBQUVESixFQUFBQSxZQUFZLEdBQUc7QUFDYixXQUFPLEtBQUtGLEtBQUwsQ0FBV08sVUFBWCxDQUFzQkMsTUFBdEIsS0FBaUMsQ0FBakMsR0FDSCxrQkFERyxHQUVILG9CQUZKO0FBR0Q7O0FBRURKLEVBQUFBLFlBQVksQ0FBQ0ssSUFBRCxFQUFPO0FBQ2pCLFNBQUtULEtBQUwsQ0FBV1UsY0FBWCxDQUEwQkQsSUFBSSxDQUFDRSxHQUEvQjtBQUNEOztBQUVEQyxFQUFBQSxNQUFNLEdBQUc7QUFBQSx3QkFDc0IsS0FBS1osS0FEM0I7QUFBQSxVQUNDTyxVQURELGVBQ0NBLFVBREQ7QUFBQSxVQUNhTSxJQURiLGVBQ2FBLElBRGI7QUFFUCxXQUNFO0FBQUssTUFBQSxTQUFTLEVBQUMsV0FBZjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUNFO0FBQUssTUFBQSxTQUFTLEVBQUMscUNBQWY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsT0FDRSw2QkFBQyxlQUFEO0FBQ0UsTUFBQSxTQUFTLEVBQUMsdUJBRFo7QUFFRSxNQUFBLFdBQVcsRUFBQyxVQUZkO0FBR0UsTUFBQSxVQUFVLEVBQUMsTUFIYjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFERixFQVFFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BQ0UsNkJBQUMsY0FBRDtBQUFPLE1BQUEsS0FBSyxFQUFFTixVQUFVLENBQUNDLE1BQXpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BQWtDLEtBQUtOLFlBQUwsRUFBbEMsQ0FERixDQVJGLENBREYsRUFhRSw2QkFBQyxhQUFEO0FBQU0sTUFBQSxZQUFZLEVBQUUsS0FBS0UsWUFBekI7QUFBdUMsTUFBQSxLQUFLLEVBQUVHLFVBQTlDO0FBQTBELE1BQUEsSUFBSSxFQUFFTSxJQUFoRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQWJGLENBREY7QUFpQkQ7O0FBekNnQzs7QUE0Q25DaEIsVUFBVSxDQUFDaUIsU0FBWCxHQUF1QjtBQUNyQlIsRUFBQUEsZUFBZSxFQUFFUyxtQkFBVUMsSUFBVixDQUFlQyxVQURYO0FBRXJCUCxFQUFBQSxjQUFjLEVBQUVLLG1CQUFVQyxJQUFWLENBQWVDO0FBRlYsQ0FBdkI7O0FBS0EsTUFBTUMsZUFBZSxHQUFHakIsS0FBSyxLQUFLO0FBQ2hDTSxFQUFBQSxVQUFVLEVBQUVOLEtBQUssQ0FBQ00sVUFBTixDQUFpQlksS0FERztBQUVoQ04sRUFBQUEsSUFBSSxFQUFFWixLQUFLLENBQUNNLFVBQU4sQ0FBaUJNO0FBRlMsQ0FBTCxDQUE3Qjs7ZUFLZSx5QkFDYkssZUFEYSxFQUViO0FBQUVaLEVBQUFBLGVBQWUsRUFBZkEsZ0NBQUY7QUFBbUJJLEVBQUFBLGNBQWMsRUFBZEE7QUFBbkIsQ0FGYSxFQUdiYixVQUhhLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQge1xuICBmZXRjaENhdGVnb3JpZXMsXG4gIGRlbGV0ZUNhdGVnb3J5XG59IGZyb20gXCIuLi8uLi8uLi9hY3Rpb25zL2NhdGVnb3J5QWN0aW9uc1wiO1xuXG5pbXBvcnQgTGlzdCBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9jb21tb24vTGlzdFwiO1xuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9jb21tb24vQnV0dG9uXCI7XG5pbXBvcnQgQ291bnQgZnJvbSBcIi4uLy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL0NvdW50XCI7XG5cbmNsYXNzIENhdGVnb3JpZXMgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gICAgdGhpcy5jb3VudE1lc3NhZ2UgPSB0aGlzLmNvdW50TWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlRGVsZXRlID0gdGhpcy5oYW5kbGVEZWxldGUuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMucHJvcHMuZmV0Y2hDYXRlZ29yaWVzKCk7XG4gIH1cblxuICBjb3VudE1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2F0ZWdvcmllcy5sZW5ndGggPT09IDFcbiAgICAgID8gXCJDYXRlZ29yeSBmb3VuZGVkXCJcbiAgICAgIDogXCJDYXRlZ29yaWVzIGZvdW5kZWRcIjtcbiAgfVxuXG4gIGhhbmRsZURlbGV0ZShpdGVtKSB7XG4gICAgdGhpcy5wcm9wcy5kZWxldGVDYXRlZ29yeShpdGVtLl9pZCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBjYXRlZ29yaWVzLCBrZXlzIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgYnV0dG9uVXJsPVwiL2FkbWluL2NhdGVnb3JpZXMvbmV3XCJcbiAgICAgICAgICAgIGJ1dHRvbkNsYXNzPVwiYnRuLWRhcmtcIlxuICAgICAgICAgICAgYnV0dG9uVHlwZT1cImxpbmtcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIE5ldyBDYXRlZ29yeVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8Q291bnQgdmFsdWU9e2NhdGVnb3JpZXMubGVuZ3RofT57dGhpcy5jb3VudE1lc3NhZ2UoKX08L0NvdW50PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPExpc3QgaGFuZGxlRGVsZXRlPXt0aGlzLmhhbmRsZURlbGV0ZX0gaXRlbXM9e2NhdGVnb3JpZXN9IGtleXM9e2tleXN9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbkNhdGVnb3JpZXMucHJvcFR5cGVzID0ge1xuICBmZXRjaENhdGVnb3JpZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRlbGV0ZUNhdGVnb3J5OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiAoe1xuICBjYXRlZ29yaWVzOiBzdGF0ZS5jYXRlZ29yaWVzLml0ZW1zLFxuICBrZXlzOiBzdGF0ZS5jYXRlZ29yaWVzLmtleXNcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBtYXBTdGF0ZVRvUHJvcHMsXG4gIHsgZmV0Y2hDYXRlZ29yaWVzLCBkZWxldGVDYXRlZ29yeSB9XG4pKENhdGVnb3JpZXMpO1xuIl19