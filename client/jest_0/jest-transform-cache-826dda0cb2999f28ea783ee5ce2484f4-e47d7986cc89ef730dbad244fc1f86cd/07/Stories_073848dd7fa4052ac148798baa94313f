417768598b3c6ee7b94afeec97bb7721
"use strict";

var _interopRequireWildcard = require("/home/belzee/projects/story-share-project/story-share-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("/home/belzee/projects/story-share-project/story-share-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _reactRedux = require("react-redux");

var _storyActions = require("../../../actions/storyActions");

var _List = _interopRequireDefault(require("../../../components/common/List"));

var _Button = _interopRequireDefault(require("../../../components/common/Button"));

var _Count = _interopRequireDefault(require("../../../components/common/Count"));

var _jsxFileName = "/home/belzee/projects/story-share-project/story-share-app/client/src/containers/back/stories/Stories.jsx";

class Stories extends _react.Component {
  constructor(props) {
    super(props);
    this.state = {};
    this.countMessage = this.countMessage.bind(this);
    this.handleDelete = this.handleDelete.bind(this);
  }

  componentDidMount() {
    this.props.fetchStories();
  }

  countMessage() {
    return this.props.stories.length === 1 ? "Story founded" : "Stories founded";
  }

  handleDelete(item) {
    this.props.deleteStory(item._id);
  }

  render() {
    const _this$props = this.props,
          stories = _this$props.stories,
          keys = _this$props.keys;
    return _react.default.createElement("div", {
      className: "container",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 35
      },
      __self: this
    }, _react.default.createElement("div", {
      className: "d-flex justify-content-between mb-2",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 36
      },
      __self: this
    }, _react.default.createElement(_Button.default, {
      buttonUrl: "/admin/stories/new",
      buttonClass: "btn-dark",
      buttonType: "link",
      __source: {
        fileName: _jsxFileName,
        lineNumber: 37
      },
      __self: this
    }, "New Story"), _react.default.createElement("div", {
      __source: {
        fileName: _jsxFileName,
        lineNumber: 44
      },
      __self: this
    }, _react.default.createElement(_Count.default, {
      value: stories.length,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 45
      },
      __self: this
    }, this.countMessage()))), _react.default.createElement(_List.default, {
      handleDelete: this.handleDelete,
      items: stories,
      keys: keys,
      __source: {
        fileName: _jsxFileName,
        lineNumber: 48
      },
      __self: this
    }));
  }

}

Stories.propTypes = {
  fetchStories: _propTypes.default.func.isRequired,
  deleteStory: _propTypes.default.func.isRequired
};

const mapStateToProps = state => ({
  stories: state.stories.items,
  keys: state.stories.keys
});

var _default = (0, _reactRedux.connect)(mapStateToProps, {
  fetchStories: _storyActions.fetchStories,
  deleteStory: _storyActions.deleteStory
})(Stories);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0b3JpZXMuanN4Il0sIm5hbWVzIjpbIlN0b3JpZXMiLCJDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3RhdGUiLCJjb3VudE1lc3NhZ2UiLCJiaW5kIiwiaGFuZGxlRGVsZXRlIiwiY29tcG9uZW50RGlkTW91bnQiLCJmZXRjaFN0b3JpZXMiLCJzdG9yaWVzIiwibGVuZ3RoIiwiaXRlbSIsImRlbGV0ZVN0b3J5IiwiX2lkIiwicmVuZGVyIiwia2V5cyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwibWFwU3RhdGVUb1Byb3BzIiwiaXRlbXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxPQUFOLFNBQXNCQyxnQkFBdEIsQ0FBZ0M7QUFDOUJDLEVBQUFBLFdBQVcsQ0FBQ0MsS0FBRCxFQUFRO0FBQ2pCLFVBQU1BLEtBQU47QUFDQSxTQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNBLFNBQUtDLFlBQUwsR0FBb0IsS0FBS0EsWUFBTCxDQUFrQkMsSUFBbEIsQ0FBdUIsSUFBdkIsQ0FBcEI7QUFDQSxTQUFLQyxZQUFMLEdBQW9CLEtBQUtBLFlBQUwsQ0FBa0JELElBQWxCLENBQXVCLElBQXZCLENBQXBCO0FBQ0Q7O0FBRURFLEVBQUFBLGlCQUFpQixHQUFHO0FBQ2xCLFNBQUtMLEtBQUwsQ0FBV00sWUFBWDtBQUNEOztBQUVESixFQUFBQSxZQUFZLEdBQUc7QUFDYixXQUFPLEtBQUtGLEtBQUwsQ0FBV08sT0FBWCxDQUFtQkMsTUFBbkIsS0FBOEIsQ0FBOUIsR0FDSCxlQURHLEdBRUgsaUJBRko7QUFHRDs7QUFFREosRUFBQUEsWUFBWSxDQUFDSyxJQUFELEVBQU87QUFDakIsU0FBS1QsS0FBTCxDQUFXVSxXQUFYLENBQXVCRCxJQUFJLENBQUNFLEdBQTVCO0FBQ0Q7O0FBRURDLEVBQUFBLE1BQU0sR0FBRztBQUFBLHdCQUNtQixLQUFLWixLQUR4QjtBQUFBLFVBQ0NPLE9BREQsZUFDQ0EsT0FERDtBQUFBLFVBQ1VNLElBRFYsZUFDVUEsSUFEVjtBQUVQLFdBQ0U7QUFBSyxNQUFBLFNBQVMsRUFBQyxXQUFmO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BQ0U7QUFBSyxNQUFBLFNBQVMsRUFBQyxxQ0FBZjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUNFLDZCQUFDLGVBQUQ7QUFDRSxNQUFBLFNBQVMsRUFBQyxvQkFEWjtBQUVFLE1BQUEsV0FBVyxFQUFDLFVBRmQ7QUFHRSxNQUFBLFVBQVUsRUFBQyxNQUhiO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQURGLEVBUUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsT0FDRSw2QkFBQyxjQUFEO0FBQU8sTUFBQSxLQUFLLEVBQUVOLE9BQU8sQ0FBQ0MsTUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsT0FBK0IsS0FBS04sWUFBTCxFQUEvQixDQURGLENBUkYsQ0FERixFQWFFLDZCQUFDLGFBQUQ7QUFBTSxNQUFBLFlBQVksRUFBRSxLQUFLRSxZQUF6QjtBQUF1QyxNQUFBLEtBQUssRUFBRUcsT0FBOUM7QUFBdUQsTUFBQSxJQUFJLEVBQUVNLElBQTdEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE1BYkYsQ0FERjtBQWlCRDs7QUF6QzZCOztBQTRDaENoQixPQUFPLENBQUNpQixTQUFSLEdBQW9CO0FBQ2xCUixFQUFBQSxZQUFZLEVBQUVTLG1CQUFVQyxJQUFWLENBQWVDLFVBRFg7QUFFbEJQLEVBQUFBLFdBQVcsRUFBRUssbUJBQVVDLElBQVYsQ0FBZUM7QUFGVixDQUFwQjs7QUFLQSxNQUFNQyxlQUFlLEdBQUdqQixLQUFLLEtBQUs7QUFDaENNLEVBQUFBLE9BQU8sRUFBRU4sS0FBSyxDQUFDTSxPQUFOLENBQWNZLEtBRFM7QUFFaENOLEVBQUFBLElBQUksRUFBRVosS0FBSyxDQUFDTSxPQUFOLENBQWNNO0FBRlksQ0FBTCxDQUE3Qjs7ZUFLZSx5QkFDYkssZUFEYSxFQUViO0FBQUVaLEVBQUFBLFlBQVksRUFBWkEsMEJBQUY7QUFBZ0JJLEVBQUFBLFdBQVcsRUFBWEE7QUFBaEIsQ0FGYSxFQUdiYixPQUhhLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSBcInJlYWN0LXJlZHV4XCI7XG5pbXBvcnQgeyBmZXRjaFN0b3JpZXMsIGRlbGV0ZVN0b3J5IH0gZnJvbSBcIi4uLy4uLy4uL2FjdGlvbnMvc3RvcnlBY3Rpb25zXCI7XG5cbmltcG9ydCBMaXN0IGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2NvbW1vbi9MaXN0XCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi8uLi8uLi9jb21wb25lbnRzL2NvbW1vbi9CdXR0b25cIjtcbmltcG9ydCBDb3VudCBmcm9tIFwiLi4vLi4vLi4vY29tcG9uZW50cy9jb21tb24vQ291bnRcIjtcblxuY2xhc3MgU3RvcmllcyBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB0aGlzLmNvdW50TWVzc2FnZSA9IHRoaXMuY291bnRNZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVEZWxldGUgPSB0aGlzLmhhbmRsZURlbGV0ZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5mZXRjaFN0b3JpZXMoKTtcbiAgfVxuXG4gIGNvdW50TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5zdG9yaWVzLmxlbmd0aCA9PT0gMVxuICAgICAgPyBcIlN0b3J5IGZvdW5kZWRcIlxuICAgICAgOiBcIlN0b3JpZXMgZm91bmRlZFwiO1xuICB9XG5cbiAgaGFuZGxlRGVsZXRlKGl0ZW0pIHtcbiAgICB0aGlzLnByb3BzLmRlbGV0ZVN0b3J5KGl0ZW0uX2lkKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHN0b3JpZXMsIGtleXMgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBidXR0b25Vcmw9XCIvYWRtaW4vc3Rvcmllcy9uZXdcIlxuICAgICAgICAgICAgYnV0dG9uQ2xhc3M9XCJidG4tZGFya1wiXG4gICAgICAgICAgICBidXR0b25UeXBlPVwibGlua1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgTmV3IFN0b3J5XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxDb3VudCB2YWx1ZT17c3Rvcmllcy5sZW5ndGh9Pnt0aGlzLmNvdW50TWVzc2FnZSgpfTwvQ291bnQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8TGlzdCBoYW5kbGVEZWxldGU9e3RoaXMuaGFuZGxlRGVsZXRlfSBpdGVtcz17c3Rvcmllc30ga2V5cz17a2V5c30gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuU3Rvcmllcy5wcm9wVHlwZXMgPSB7XG4gIGZldGNoU3RvcmllczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZGVsZXRlU3Rvcnk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IHN0YXRlID0+ICh7XG4gIHN0b3JpZXM6IHN0YXRlLnN0b3JpZXMuaXRlbXMsXG4gIGtleXM6IHN0YXRlLnN0b3JpZXMua2V5c1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIG1hcFN0YXRlVG9Qcm9wcyxcbiAgeyBmZXRjaFN0b3JpZXMsIGRlbGV0ZVN0b3J5IH1cbikoU3Rvcmllcyk7XG4iXX0=